<!DOCTYPE html>
<html>
<head>
    <script src="js/angular.min.1.4.8.js"></script>
    <meta charset="UTF-8">
    <title>Teste Rotas - Adicionar</title>
</head>
<body>

<div ng-app="myApp" ng-controller="myCtrl">


    <form ng-submit="adicionarNovaRota(rota);rota=''">
        <div>
            <label>Origem</label>
            <select ng-model="rota.origem">
                <option value="SP">SP</option>
                <option value="RJ">RJ</option>
                <option value="MG">MG</option>
            </select>
        </div>
        <div>
            <label>Destino</label>
            <select ng-model="rota.destino">
                <option value="SP">SP</option>
                <option value="RJ">RJ</option>
                <option value="MG">MG</option>
            </select>
        </div>
        <div>
            <label>Dist√¢ncia em KM</label>
            <input type="text" ng-model="rota.km">
        </div>
        <div>
            <label>Nome do rota</label>
            <input type="text" ng-model="rota.nome">
        </div>
        <button type="submit" class="btn btn-default">Adicionar rota</button>
    </form>

    {{response}}

</div>


<script>
    var app = angular.module('myApp', []);
    app.controller('myCtrl', function($scope, $http) {

        $scope.adicionarNovaRota = function (rota) {
            $http.post("http://desenvolvedorphprj.com.br/rcase/api/rotas/add",{origem:rota.origem,destino:rota.destino,km:rota.km,nome:rota.nome})
                    .then(function(response) {
                        $scope.response = response.data;
                    });
        }


    });
</script>

</body>
</html>